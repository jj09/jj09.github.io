<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>


<meta name="description" content="One of the top Azure App users requests was to add Touch ID support for additional security. In this post I will share the details of implementing biometrics authentication for iOS and Android with Xamarin.
There are three aspects of biometrics auth:
1. Enable user to turn biometrics authentication on and off. Users shouldn't be forced to use this additional security feature.
2. Detecting when user should be asked for biometrics authentication, e.g., when app is coming from background, and when app is starting.
3. Authentication process. Includes detecting hardware capabilities (is touch or face id available?), and local setup (does user configured local authentication in system settings).
Enabling biometrics authentication usually can be controlled in settings (like in Outlook or OneDrive). We did the same in Azure App:

iOS
Detecting when user is switching back to our app in iOS is pretty simple. Every time when user switch from background, method WillEnterForeground in AppDelegate is being called. We just need to override it with our custom implementation:

public override void WillEnterForeground(UIApplication application)
{
    // biometrics authentication logic here

}

You should also authenticate user when app is being launched. In that case authentication should be performed in your initial view controller.
In iOS we have 2 kinds of biometrics authentication:
1. Touch ID
2. Face ID (available from iPhoneX)
We can also fallback to passcode if touch/face ID is not configured, or user's device does not support it.
The iOS Local Auth API is pretty straightforward, and well documented. I created simple helper to handle feature detection and authentication:

public static class LocalAuthHelper
{
    private enum LocalAuthType
    {
        None,
        Passcode,
        TouchId,
        FaceId
    }

    public static string GetLocalAuthLabelText()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return Strings.RequirePasscode;
            case LocalAuthType.TouchId:
                return Strings.RequireTouchID;
            case LocalAuthType.FaceId:
                return Strings.RequireFaceID;
            default:
                return string.Empty;
        }
    }

    public static string GetLocalAuthIcon()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return SvgLibrary.LockIcon;
            case LocalAuthType.TouchId:
                return SvgLibrary.TouchIdIcon;
            case LocalAuthType.FaceId:
                return SvgLibrary.FaceIdIcon;
            default:
                return string.Empty;
        }
    }

    public static string GetLocalAuthUnlockText()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return Strings.UnlockWithPasscode;
            case LocalAuthType.TouchId:
                return Strings.UnlockWithTouchID;
            case LocalAuthType.FaceId:
                return Strings.UnlockWithFaceID;
            default:
                return string.Empty;
        }
    }

    public static bool IsLocalAuthAvailable =&gt; GetLocalAuthType() != LocalAuthType.None;

    public static void Authenticate(Action onSuccess, Action onFailure)
    {
        var context = new LAContext();
        NSError AuthError;

        if (context.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, out AuthError)
            || context.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, out AuthError))
        {
            var replyHandler = new LAContextReplyHandler((success, error) =&gt;
            {
                if (success)
                {
                    onSuccess?.Invoke();
                }
                else
                {
                    onFailure?.Invoke();
                }
            });

            context.EvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, Strings.PleaseAuthenticateToProceed, replyHandler);
        }
    }

    private static LocalAuthType GetLocalAuthType()
    {
        var localAuthContext = new LAContext();
        NSError AuthError;

        if (localAuthContext.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, out AuthError))
        {
            if (localAuthContext.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, out AuthError))
            {
                if (GetOsMajorVersion() &gt;= 11 &amp;&amp; localAuthContext.BiometryType == LABiometryType.TypeFaceId)
                {
                    return LocalAuthType.FaceId;
                }

                return LocalAuthType.TouchId;
            }

            return LocalAuthType.Passcode;
        }

        return LocalAuthType.None;
    }

    private static int GetOsMajorVersion()
    {
        return int.Parse(UIDevice.CurrentDevice.SystemVersion.Split('.')[0]);
    }
}

There are helper methods determining proper label (GetLocalAuthLabelText), icon (GetLocalAuthIcon) and authentication text (GetLocalAuthUnlockText) depending on available authentication type. There is also one liner IsLocalAuthAvailable checking if Local Authentication (face/touch ID or passcode) is available, and Authenticate method that performs authentication, which takes success and failure callbacks as parameters. It can be used in WillEnterForeground method as follows:

public override void WillEnterForeground(UIApplication application)
{
    if (!AppSettings.IsLocalAuthEnabled)
    {
        return;
    }

    LocalAuthHelper.Authenticate(null, // do not do anything on success

    () =&gt;
    {
        // show View Controller that requires authentication

        InvokeOnMainThread(() =&gt;
        {
            var localAuthViewController = new LocalAuthViewController();
            Window.RootViewController.ShowViewController(localAuthViewController, null);
        });
    });
}

We do not have to do anything on success. The popup shown by iOS will disappear and user will be able to use the app. On failed authentication though we should display some kind of shild (e.g., ViewController) that prevent user from using the app until authorization succeed. This is how it looks in Azure App:

Android
Detecting when app is coming from background in Android is tricky. There is no single method that is invoked only when app is coming back from background. The OnResume method is being called when app is coming back from the background, but it's also called when you switch from one activity to another. Solution for that is to keep a time stamp with last successful authentication, and update it to DateTime.Now every time when activity is calling OnPause. This happen when app is going to background, but also when app is changing between activities. Thus we cannot simply set flag Background=true when OnPause is called. However, when difference between subsequent OnPause and OnResume is larger than some period of time (e.g., more than a few seconds) we can assume that app went to background. Below code should be implemented in some BaseActivity class that all activities inherit from:

public class BaseActivity
{
  public const int FingerprintAuthTimeoutSeconds = 5;
  public static DateTime LastSuccessfulFingerprintAuth = DateTime.MinValue;
    
  protected override void OnResume()
  {
    base.OnResume();

    if (IsFingerprintAvailable() &amp;&amp; LastSuccessfulFingerprintAuth &gt; DateTime.Now.AddSeconds(-FingerprintAuthTimeoutSeconds))
    {
      StartActivity(typeof(FingerprintAuthActivity));
    }
  }

  protected override void OnPause()
  {
    base.OnPause();

    if (IsFingerprintAvailable())
    {
      LastSuccessfulFingerprintAuth = DateTime.Now;
    }
  }
}

The basics of Fingerprint authentication are very well described in Xamarin docs.
Even better reference is a sample app FingerprintGuide from Xamarin.
The main disadvantage of adding fingerprint authentication in Android (over Face/Touch ID in iOS) is requirement to build your own UI and logic for the authentication popup. This includes adding icon, and handling all authentication results. iOS handles incorrect scan, and displays popup again with passcode fallback after too many unsuccessful tries. In Android you have to implement this entire logic by yourself.
Summary
Adding biometrics authentication is useful for apps that hold sensitive data, like banking apps, file managers (Dropbox, OneDrive), or an app that has access to your Azure Resources :)
Implementing local authentication in iOS is pretty straightforward, and iOS APIs provide authentication UI for free. In Android however, the APIs are only working with the backend, and UI has to be implemented by you.
Local authentication should be always optional. Some users may not need nor want it. Thus, it should be configurable in the app settings.
Try out biometrics auth in Azure App!


" />
<meta property="og:description" content="One of the top Azure App users requests was to add Touch ID support for additional security. In this post I will share the details of implementing biometrics authentication for iOS and Android with Xamarin.
There are three aspects of biometrics auth:
1. Enable user to turn biometrics authentication on and off. Users shouldn't be forced to use this additional security feature.
2. Detecting when user should be asked for biometrics authentication, e.g., when app is coming from background, and when app is starting.
3. Authentication process. Includes detecting hardware capabilities (is touch or face id available?), and local setup (does user configured local authentication in system settings).
Enabling biometrics authentication usually can be controlled in settings (like in Outlook or OneDrive). We did the same in Azure App:

iOS
Detecting when user is switching back to our app in iOS is pretty simple. Every time when user switch from background, method WillEnterForeground in AppDelegate is being called. We just need to override it with our custom implementation:

public override void WillEnterForeground(UIApplication application)
{
    // biometrics authentication logic here

}

You should also authenticate user when app is being launched. In that case authentication should be performed in your initial view controller.
In iOS we have 2 kinds of biometrics authentication:
1. Touch ID
2. Face ID (available from iPhoneX)
We can also fallback to passcode if touch/face ID is not configured, or user's device does not support it.
The iOS Local Auth API is pretty straightforward, and well documented. I created simple helper to handle feature detection and authentication:

public static class LocalAuthHelper
{
    private enum LocalAuthType
    {
        None,
        Passcode,
        TouchId,
        FaceId
    }

    public static string GetLocalAuthLabelText()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return Strings.RequirePasscode;
            case LocalAuthType.TouchId:
                return Strings.RequireTouchID;
            case LocalAuthType.FaceId:
                return Strings.RequireFaceID;
            default:
                return string.Empty;
        }
    }

    public static string GetLocalAuthIcon()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return SvgLibrary.LockIcon;
            case LocalAuthType.TouchId:
                return SvgLibrary.TouchIdIcon;
            case LocalAuthType.FaceId:
                return SvgLibrary.FaceIdIcon;
            default:
                return string.Empty;
        }
    }

    public static string GetLocalAuthUnlockText()
    {
        var localAuthType = GetLocalAuthType();

        switch (localAuthType)
        {
            case LocalAuthType.Passcode:
                return Strings.UnlockWithPasscode;
            case LocalAuthType.TouchId:
                return Strings.UnlockWithTouchID;
            case LocalAuthType.FaceId:
                return Strings.UnlockWithFaceID;
            default:
                return string.Empty;
        }
    }

    public static bool IsLocalAuthAvailable =&gt; GetLocalAuthType() != LocalAuthType.None;

    public static void Authenticate(Action onSuccess, Action onFailure)
    {
        var context = new LAContext();
        NSError AuthError;

        if (context.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, out AuthError)
            || context.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, out AuthError))
        {
            var replyHandler = new LAContextReplyHandler((success, error) =&gt;
            {
                if (success)
                {
                    onSuccess?.Invoke();
                }
                else
                {
                    onFailure?.Invoke();
                }
            });

            context.EvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, Strings.PleaseAuthenticateToProceed, replyHandler);
        }
    }

    private static LocalAuthType GetLocalAuthType()
    {
        var localAuthContext = new LAContext();
        NSError AuthError;

        if (localAuthContext.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthentication, out AuthError))
        {
            if (localAuthContext.CanEvaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, out AuthError))
            {
                if (GetOsMajorVersion() &gt;= 11 &amp;&amp; localAuthContext.BiometryType == LABiometryType.TypeFaceId)
                {
                    return LocalAuthType.FaceId;
                }

                return LocalAuthType.TouchId;
            }

            return LocalAuthType.Passcode;
        }

        return LocalAuthType.None;
    }

    private static int GetOsMajorVersion()
    {
        return int.Parse(UIDevice.CurrentDevice.SystemVersion.Split('.')[0]);
    }
}

There are helper methods determining proper label (GetLocalAuthLabelText), icon (GetLocalAuthIcon) and authentication text (GetLocalAuthUnlockText) depending on available authentication type. There is also one liner IsLocalAuthAvailable checking if Local Authentication (face/touch ID or passcode) is available, and Authenticate method that performs authentication, which takes success and failure callbacks as parameters. It can be used in WillEnterForeground method as follows:

public override void WillEnterForeground(UIApplication application)
{
    if (!AppSettings.IsLocalAuthEnabled)
    {
        return;
    }

    LocalAuthHelper.Authenticate(null, // do not do anything on success

    () =&gt;
    {
        // show View Controller that requires authentication

        InvokeOnMainThread(() =&gt;
        {
            var localAuthViewController = new LocalAuthViewController();
            Window.RootViewController.ShowViewController(localAuthViewController, null);
        });
    });
}

We do not have to do anything on success. The popup shown by iOS will disappear and user will be able to use the app. On failed authentication though we should display some kind of shild (e.g., ViewController) that prevent user from using the app until authorization succeed. This is how it looks in Azure App:

Android
Detecting when app is coming from background in Android is tricky. There is no single method that is invoked only when app is coming back from background. The OnResume method is being called when app is coming back from the background, but it's also called when you switch from one activity to another. Solution for that is to keep a time stamp with last successful authentication, and update it to DateTime.Now every time when activity is calling OnPause. This happen when app is going to background, but also when app is changing between activities. Thus we cannot simply set flag Background=true when OnPause is called. However, when difference between subsequent OnPause and OnResume is larger than some period of time (e.g., more than a few seconds) we can assume that app went to background. Below code should be implemented in some BaseActivity class that all activities inherit from:

public class BaseActivity
{
  public const int FingerprintAuthTimeoutSeconds = 5;
  public static DateTime LastSuccessfulFingerprintAuth = DateTime.MinValue;
    
  protected override void OnResume()
  {
    base.OnResume();

    if (IsFingerprintAvailable() &amp;&amp; LastSuccessfulFingerprintAuth &gt; DateTime.Now.AddSeconds(-FingerprintAuthTimeoutSeconds))
    {
      StartActivity(typeof(FingerprintAuthActivity));
    }
  }

  protected override void OnPause()
  {
    base.OnPause();

    if (IsFingerprintAvailable())
    {
      LastSuccessfulFingerprintAuth = DateTime.Now;
    }
  }
}

The basics of Fingerprint authentication are very well described in Xamarin docs.
Even better reference is a sample app FingerprintGuide from Xamarin.
The main disadvantage of adding fingerprint authentication in Android (over Face/Touch ID in iOS) is requirement to build your own UI and logic for the authentication popup. This includes adding icon, and handling all authentication results. iOS handles incorrect scan, and displays popup again with passcode fallback after too many unsuccessful tries. In Android you have to implement this entire logic by yourself.
Summary
Adding biometrics authentication is useful for apps that hold sensitive data, like banking apps, file managers (Dropbox, OneDrive), or an app that has access to your Azure Resources :)
Implementing local authentication in iOS is pretty straightforward, and iOS APIs provide authentication UI for free. In Android however, the APIs are only working with the backend, and UI has to be implemented by you.
Local authentication should be always optional. Some users may not need nor want it. Thus, it should be configurable in the app settings.
Try out biometrics auth in Azure App!


" />

<meta name="author" content="Jacob Jedryszek" />


<meta property="og:title" content="Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" />
<meta property="twitter:title" content="Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" />



    <title>Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint) – Jacob Jedryszek – Software Engineer at Meta (Ex-MSFT). I helped build Azure Portal, Azure Mobile App, Seeing AI, and Facebook Marketplace.</title>

    <link rel="stylesheet" type="text/css" href="/style.css"/>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/ress/dist/ress.min.css"/>
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/image/favicon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/image/favicon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/image/favicon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/image/favicon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/image/favicon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/image/favicon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/image/favicon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/image/favicon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/image/favicon-180x180.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/image/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/image/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/image/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/image/favicon-192x192.png">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/image/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/assets/image/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/image/favicon-144x144.png">
    <meta name="msapplication-config" content="/assets/image/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="alternate" type="application/rss+xml" title="Jacob Jedryszek - Software Engineer at Meta (Ex-MSFT). I helped build Azure Portal, Azure Mobile App, Seeing AI, and Facebook Marketplace." href="/feed.xml"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous" media="print" onload="this.media='all'"/>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.5/plyr.css" media="print" onload="this.media='all'"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" media="print" onload="this.media='all'"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" integrity="sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET" crossorigin="anonymous" media="print" onload="this.media='all'"/>

  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="/assets/image/avatar.png" width="70" height="70" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Jacob Jedryszek</a></h1>
            <p class="site-description">Software Engineer at Meta (Ex-MSFT). I helped build Azure Portal, Azure Mobile App, Seeing AI, and Facebook Marketplace.</p>
          </div>

          <nav class="nav-menu">
            
  <a class="nav-menu-item"<a href="/">Blog</a>

  <a class="nav-menu-item"<a href="/about">About</a>

  <a class="nav-menu-item"<a href="/search">Search</a>


          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)</h1>

  <div class="entry">
    <p>One of the top <a href="http://aka.ms/azureapp">Azure App</a> users requests was to <a href="https://feedback.azure.com/forums/568069-azure-mobile-app/suggestions/19251607-add-touch-id-support">add Touch ID support</a> for additional security. In this post I will share the details of implementing biometrics authentication for iOS and Android with Xamarin.</p>
<p>There are three aspects of biometrics auth:<br />
1. Enable user to turn biometrics authentication on and off. Users shouldn't be forced to use this additional security feature.<br />
2. Detecting when user should be asked for biometrics authentication, e.g., when app is coming from background, and when app is starting.<br />
3. Authentication process. Includes detecting hardware capabilities (is touch or face id available?), and local setup (does user configured local authentication in system settings).</p>
<p>Enabling biometrics authentication usually can be controlled in settings (like in Outlook or OneDrive). We did the same in Azure App:</p>
<p><img class="aligncenter size-full wp-image-19453" src="/assets/2018/01/RequireTouchIdSettings-e1514930926880.png" alt="Require Touch ID Settings" width="350" height="623" /></p>
<h3>iOS</h3>
<p>Detecting when user is switching back to our app in iOS is pretty simple. Every time when user switch from background, method <code>WillEnterForeground</code> in <code>AppDelegate</code> is being called. We just need to override it with our custom implementation:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">WillEnterForeground</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// biometrics authentication logic here
</span>
<span class="p">}</span></code></pre></figure>

<p>You should also authenticate user when app is being launched. In that case authentication should be performed in your initial view controller.</p>
<p>In iOS we have 2 kinds of biometrics authentication:<br />
1. Touch ID<br />
2. Face ID (available from iPhoneX)</p>
<p>We can also fallback to passcode if touch/face ID is not configured, or user's device does not support it.</p>
<p>The <a href="https://developer.xamarin.com/guides/ios/platform_features/introduction_to_touchid/#Adding_Touch_ID_to_your_application">iOS Local Auth API</a> is pretty straightforward, and well documented. I created simple helper to handle feature detection and authentication:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">LocalAuthHelper</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">enum</span> <span class="n">LocalAuthType</span>
    <span class="p">{</span>
        <span class="n">None</span><span class="p">,</span>
        <span class="n">Passcode</span><span class="p">,</span>
        <span class="n">TouchId</span><span class="p">,</span>
        <span class="n">FaceId</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetLocalAuthLabelText</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">localAuthType</span> <span class="p">=</span> <span class="nf">GetLocalAuthType</span><span class="p">();</span>

        <span class="k">switch</span> <span class="p">(</span><span class="n">localAuthType</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">Passcode</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">RequirePasscode</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">TouchId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">RequireTouchID</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">FaceId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">RequireFaceID</span><span class="p">;</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetLocalAuthIcon</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">localAuthType</span> <span class="p">=</span> <span class="nf">GetLocalAuthType</span><span class="p">();</span>

        <span class="k">switch</span> <span class="p">(</span><span class="n">localAuthType</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">Passcode</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">SvgLibrary</span><span class="p">.</span><span class="n">LockIcon</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">TouchId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">SvgLibrary</span><span class="p">.</span><span class="n">TouchIdIcon</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">FaceId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">SvgLibrary</span><span class="p">.</span><span class="n">FaceIdIcon</span><span class="p">;</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetLocalAuthUnlockText</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">localAuthType</span> <span class="p">=</span> <span class="nf">GetLocalAuthType</span><span class="p">();</span>

        <span class="k">switch</span> <span class="p">(</span><span class="n">localAuthType</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">Passcode</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">UnlockWithPasscode</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">TouchId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">UnlockWithTouchID</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">FaceId</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Strings</span><span class="p">.</span><span class="n">UnlockWithFaceID</span><span class="p">;</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="n">IsLocalAuthAvailable</span> <span class="p">=&gt;</span> <span class="nf">GetLocalAuthType</span><span class="p">()</span> <span class="p">!=</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Authenticate</span><span class="p">(</span><span class="n">Action</span> <span class="n">onSuccess</span><span class="p">,</span> <span class="n">Action</span> <span class="n">onFailure</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">context</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LAContext</span><span class="p">();</span>
        <span class="n">NSError</span> <span class="n">AuthError</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">CanEvaluatePolicy</span><span class="p">(</span><span class="n">LAPolicy</span><span class="p">.</span><span class="n">DeviceOwnerAuthenticationWithBiometrics</span><span class="p">,</span> <span class="k">out</span> <span class="n">AuthError</span><span class="p">)</span>
            <span class="p">||</span> <span class="n">context</span><span class="p">.</span><span class="nf">CanEvaluatePolicy</span><span class="p">(</span><span class="n">LAPolicy</span><span class="p">.</span><span class="n">DeviceOwnerAuthentication</span><span class="p">,</span> <span class="k">out</span> <span class="n">AuthError</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">replyHandler</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LAContextReplyHandler</span><span class="p">((</span><span class="n">success</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">onSuccess</span><span class="p">?.</span><span class="nf">Invoke</span><span class="p">();</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">onFailure</span><span class="p">?.</span><span class="nf">Invoke</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">});</span>

            <span class="n">context</span><span class="p">.</span><span class="nf">EvaluatePolicy</span><span class="p">(</span><span class="n">LAPolicy</span><span class="p">.</span><span class="n">DeviceOwnerAuthentication</span><span class="p">,</span> <span class="n">Strings</span><span class="p">.</span><span class="n">PleaseAuthenticateToProceed</span><span class="p">,</span> <span class="n">replyHandler</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">static</span> <span class="n">LocalAuthType</span> <span class="nf">GetLocalAuthType</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">localAuthContext</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LAContext</span><span class="p">();</span>
        <span class="n">NSError</span> <span class="n">AuthError</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">localAuthContext</span><span class="p">.</span><span class="nf">CanEvaluatePolicy</span><span class="p">(</span><span class="n">LAPolicy</span><span class="p">.</span><span class="n">DeviceOwnerAuthentication</span><span class="p">,</span> <span class="k">out</span> <span class="n">AuthError</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">localAuthContext</span><span class="p">.</span><span class="nf">CanEvaluatePolicy</span><span class="p">(</span><span class="n">LAPolicy</span><span class="p">.</span><span class="n">DeviceOwnerAuthenticationWithBiometrics</span><span class="p">,</span> <span class="k">out</span> <span class="n">AuthError</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nf">GetOsMajorVersion</span><span class="p">()</span> <span class="p">&gt;=</span> <span class="m">11</span> <span class="p">&amp;&amp;</span> <span class="n">localAuthContext</span><span class="p">.</span><span class="n">BiometryType</span> <span class="p">==</span> <span class="n">LABiometryType</span><span class="p">.</span><span class="n">TypeFaceId</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">return</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">FaceId</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">return</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">TouchId</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">Passcode</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">LocalAuthType</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">static</span> <span class="kt">int</span> <span class="nf">GetOsMajorVersion</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="kt">int</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">UIDevice</span><span class="p">.</span><span class="n">CurrentDevice</span><span class="p">.</span><span class="n">SystemVersion</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">'.'</span><span class="p">)[</span><span class="m">0</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>There are helper methods determining proper label (<code>GetLocalAuthLabelText</code>), icon (<code>GetLocalAuthIcon</code>) and authentication text (<code>GetLocalAuthUnlockText</code>) depending on available authentication type. There is also one liner <code>IsLocalAuthAvailable</code> checking if Local Authentication (face/touch ID or passcode) is available, and <code>Authenticate</code> method that performs authentication, which takes <code>success</code> and <code>failure</code> callbacks as parameters. It can be used in <code>WillEnterForeground</code> method as follows:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">WillEnterForeground</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">AppSettings</span><span class="p">.</span><span class="n">IsLocalAuthEnabled</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">LocalAuthHelper</span><span class="p">.</span><span class="nf">Authenticate</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="c1">// do not do anything on success
</span>
    <span class="p">()</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="c1">// show View Controller that requires authentication
</span>
        <span class="nf">InvokeOnMainThread</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">localAuthViewController</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LocalAuthViewController</span><span class="p">();</span>
            <span class="n">Window</span><span class="p">.</span><span class="n">RootViewController</span><span class="p">.</span><span class="nf">ShowViewController</span><span class="p">(</span><span class="n">localAuthViewController</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span></code></pre></figure>

<p>We do not have to do anything on success. The popup shown by iOS will disappear and user will be able to use the app. On failed authentication though we should display some kind of shild (e.g., ViewController) that prevent user from using the app until authorization succeed. This is how it looks in Azure App:</p>
<p><img class="aligncenter size-full wp-image-19464" src="/assets/2018/01/AzureAppUnlockWithTouchId-e1515522992230.png" alt="Azure App - Unlock with Touch ID" width="300" height="534" /></p>
<h3>Android</h3>
<p>Detecting when app is coming from background in Android is tricky. There is no single method that is invoked only when app is coming back from background. The <code>OnResume</code> method is being called when app is coming back from the background, but it's also called when you switch from one activity to another. Solution for that is to keep a time stamp with last successful authentication, and update it to <code>DateTime.Now</code> every time when activity is calling <code>OnPause</code>. This happen when app is going to background, but also when app is changing between activities. Thus we cannot simply set flag <code>Background=true</code> when <code>OnPause</code> is called. However, when difference between subsequent <code>OnPause</code> and <code>OnResume</code> is larger than some period of time (e.g., more than a few seconds) we can assume that app went to background. Below code should be implemented in some <code>BaseActivity</code> class that all activities inherit from:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">BaseActivity</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">FingerprintAuthTimeoutSeconds</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">static</span> <span class="n">DateTime</span> <span class="n">LastSuccessfulFingerprintAuth</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">MinValue</span><span class="p">;</span>
    
  <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnResume</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnResume</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="nf">IsFingerprintAvailable</span><span class="p">()</span> <span class="p">&amp;&amp;</span> <span class="n">LastSuccessfulFingerprintAuth</span> <span class="p">&gt;</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">AddSeconds</span><span class="p">(-</span><span class="n">FingerprintAuthTimeoutSeconds</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="nf">StartActivity</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">FingerprintAuthActivity</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnPause</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnPause</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="nf">IsFingerprintAvailable</span><span class="p">())</span>
    <span class="p">{</span>
      <span class="n">LastSuccessfulFingerprintAuth</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The basics of Fingerprint authentication are very well described in <a href="https://developer.xamarin.com/guides/android/platform_features/fingerprint-authentication/">Xamarin docs</a>.</p>
<p>Even better reference is a sample app <a href="https://github.com/xamarin/monodroid-samples/tree/master/FingerprintGuide">FingerprintGuide</a> from Xamarin.</p>
<p>The main disadvantage of adding fingerprint authentication in Android (over Face/Touch ID in iOS) is requirement to build your own UI and logic for the authentication popup. This includes adding icon, and handling all authentication results. iOS handles incorrect scan, and displays popup again with passcode fallback after too many unsuccessful tries. In Android you have to implement this entire logic by yourself.</p>
<h3>Summary</h3>
<p>Adding biometrics authentication is useful for apps that hold sensitive data, like banking apps, file managers (Dropbox, OneDrive), or an app that has access to your Azure Resources :)</p>
<p>Implementing local authentication in iOS is pretty straightforward, and iOS APIs provide authentication UI for free. In Android however, the APIs are only working with the backend, and UI has to be implemented by you.</p>
<p>Local authentication should be always optional. Some users may not need nor want it. Thus, it should be configurable in the app settings.</p>
<p>Try out biometrics auth in Azure App!</p>
<p><a href="https://itunes.apple.com/us/app/microsoft-azure/id1219013620?ls=1&amp;mt=8"><img src="/assets/2018/01/appstore.png" alt="Download on the App Store" width="200" height="59" class="aligncenter size-full wp-image-18061" /></a><br />
<a href="https://play.google.com/store/apps/details?id=com.microsoft.azure"><img src="/assets/2018/01/playstore.png" alt="Get it on Google Play" width="200" height="59" class="aligncenter size-full wp-image-18071" /></a></p>

  </div>

  <div class="date">
    <i class="fa fa-calendar fa-fw" aria-hidden="true"></i>&nbsp;Date:<span style="color: #333333; font-weight: normal;">&nbsp;January 18, 2018</span>
  </div>

  <div class="post-categories">
    <i class="fa fa-tags fa-fw" aria-hidden="true"></i>&nbsp;Tags:&nbsp;
      
      
      <a class="categories-button"<a href="/categories/#programming">programming</a>
      
      
  </div>

  <div class="share-post">
    <i class="fa fa-share-alt-square fa-fw" aria-hidden="true"></i>&nbsp;Share:&nbsp;
    <!-- Sharingbutton Facebook -->
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share on Facebook" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Twitter -->
<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share on Twitter" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Tumblr -->
<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;content=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;canonicalUrl=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;shareSource=tumblr_share_button" title="Share on Tumblr" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.5.5v5h5v4h-5V15c0 5 3.5 4.4 6 2.8v4.4c-6.7 3.2-12 0-12-4.2V9.5h-3V6.7c1-.3 2.2-.7 3-1.3.5-.5 1-1.2 1.4-2 .3-.7.6-1.7.7-3h3.8z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton E-Mail -->
<a class="resp-sharing-button__link" href="mailto:?subject=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;body=Read more at this site http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share via E-Mail" target="_self" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Pinterest -->
<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;media=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;description=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" title="Share on Pinterest" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57 0 .66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6 0-3.33 2.5-6.32 6.5-6.32 3.55 0 5.5 2.17 5.5 5.07 0 3.8-1.7 7.02-4.2 7.02-1.37 0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7 0-1.07-.58-1.98-1.78-1.98-1.4 0-2.55 1.47-2.55 3.42 0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25 0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton LinkedIn -->
<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;title=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;summary=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;source=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share on LinkedIn" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Reddit -->
<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;resubmit=true&amp;title=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" title="Share on Reddit" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton XING -->
<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/;title=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" title="Share on XING" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.2 9.7l-3-5.4C7.2 4 7 4 6.8 4h-5c-.3 0-.4 0-.5.2v.5L4 10 .4 16v.5c0 .2.2.3.4.3h5c.3 0 .4 0 .5-.2l4-6.6v-.5zM24 .2l-.5-.2H18s-.2 0-.3.3l-8 14v.4l5.2 9c0 .2 0 .3.3.3h5.4s.3 0 .4-.2c.2-.2.2-.4 0-.5l-5-8.8L24 .7V.2z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton WhatsApp -->
<a class="resp-sharing-button__link" href="whatsapp://send?text=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)%20http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share via WhatsApp" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Hacker News -->
<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/&amp;t=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)" title="Share on Hacker News" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140 140"><path fill-rule="evenodd" d="M60.94 82.314L17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L103.49 0h18.69L77.84 83.308v53.087h-16.9v-54.08z"></path></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton VK -->
<a class="resp-sharing-button__link" href="http://vk.com/share.php?title=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share on VK" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--vk resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.547 7h-3.29a.743.743 0 0 0-.655.392s-1.312 2.416-1.734 3.23C14.734 12.813 14 12.126 14 11.11V7.603A1.104 1.104 0 0 0 12.896 6.5h-2.474a1.982 1.982 0 0 0-1.75.813s1.255-.204 1.255 1.49c0 .42.022 1.626.04 2.64a.73.73 0 0 1-1.272.503 21.54 21.54 0 0 1-2.498-4.543.693.693 0 0 0-.63-.403h-2.99a.508.508 0 0 0-.48.685C3.005 10.175 6.918 18 11.38 18h1.878a.742.742 0 0 0 .742-.742v-1.135a.73.73 0 0 1 1.23-.53l2.247 2.112a1.09 1.09 0 0 0 .746.295h2.953c1.424 0 1.424-.988.647-1.753-.546-.538-2.518-2.617-2.518-2.617a1.02 1.02 0 0 1-.078-1.323c.637-.84 1.68-2.212 2.122-2.8.603-.804 1.697-2.507.197-2.507z"/></svg>
    </div>
  </div>
</a>

<!-- Sharingbutton Telegram -->
<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=Adding biometrics authentication to Xamarin.iOS (Touch ID / Face ID) and Xamarin.Android (Fingerprint)&amp;url=http://localhost:4250/adding-biometrics-authentication-to-xamarin-ios-touch-id-face-id-and-xamarin-android-fingerprint/" title="Share via Telegram" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z"/></svg>
    </div>
  </div>
</a>

  </div>

  <div class="related-posts">
    <div class="related-posts">
<span class="related-posts-heading">Related Posts:</span><br>
















  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  
    
  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  

  
  

  
  

  

  

  
  




  

  

  

  

  

  

  
    <div class="related-posts-post">
  <a href="/php-in-2020-its-not-your-mamas-php/">
    PHP in 2020 it's not your mama's PHP
  </a>
</div>


    
  

  

  

  

  
    <div class="related-posts-post">
  <a href="/leaving-microsoft/">
    Leaving Microsoft...
  </a>
</div>


    
  

  
    <div class="related-posts-post">
  <a href="/azure-search-on-azure-friday/">
    Azure Search on Azure Friday
  </a>
</div>


    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  










</div>

  </div>

  <div class="post-nav">
    <div class="post-nav">
  <p>
    
    <span class="post-nav-label">Previous</span><br>
    <a href="/managing-multiple-accounts-in-azure-app/">&#9194;&nbsp;Managing multiple accounts in Azure App</a>
    
  </p>
  <p>
    
    <span class="post-nav-label">Next</span><br>
    <a href="/i-am-joining-cloud-ai-team-to-work-on-azure-search/">I am joining Cloud AI team to work on Azure Search&nbsp;&#9193;</a>
    
  </p>
</div>

  </div>

</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer"><div class="social-icons"><a class="social-icon" href="/feed.xml"><i class="fa fa-rss-square fa-2x" title="Feed"></i></a><a class="social-icon" href="https://twitter.com/realJacobJed"><i class="fa fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://linkedin.com/in/realjacobjed"><i class="fa fa-linkedin-square fa-2x" title="LinkedIn"></i></a><a class="social-icon" href="https://github.com/jj09"><i class="fa fa-github-square fa-2x" title="GitHub"></i></a></div><div class="copyright">
            
            <p>&copy; 2022 Jacob Jedryszek. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/forever-jekyll/forever-jekyll" rel="nofollow">Forever Jekyll</a>.</p>
            
          </div>    
        </footer>
      </div>
    </div>

    <script defer src="https://cdn.plyr.io/3.6.5/plyr.js"></script>
    <script>
      const player = new Plyr('#player');
    </script>

    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    <script type="text/javascript">
      const lightbox = GLightbox({
          touchNavigation: true,
          loop: true,
          autoplayVideos: true
      });
    </script>

    <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js" integrity="sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body,{
                    delimiters: [
                    { left: '$$',  right: '$$',  display: true  },
                    { left: '$',   right: '$',   display: false },
                    { left: '\\[', right: '\\]', display: true  },
                    { left: '\\(', right: '\\)', display: false }
                    ]});">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <script>
      function addDarkmodeWidget() {
        new Darkmode().showWidget();
        window.addEventListener('load', addDarkmodeWidget);
      }
      const options = {
        label: '🌓',
      }
      const darkmode = new Darkmode(options);
            darkmode.showWidget();
    </script>

  </body>
</html>
